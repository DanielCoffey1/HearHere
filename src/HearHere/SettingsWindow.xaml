<Window x:Class="HearHere.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="HearHere — Settings" Width="520" Height="520"
        WindowStartupLocation="CenterScreen" ResizeMode="CanResizeWithGrip"
        MinWidth="400" MinHeight="400">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
            <TextBlock Text="Playback Devices" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
            <Button Content="Refresh" Margin="12,0,0,0" Padding="10,3" Click="OnRefresh"/>
        </StackPanel>

        <!-- Device list -->
        <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ListBox x:Name="DeviceList" Grid.Column="0" SelectionMode="Single"
                         BorderThickness="0" HorizontalContentAlignment="Stretch">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="2">
                                <CheckBox IsChecked="{Binding IsEnabled}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="{Binding DisplayName}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="4">
                    <Button Content="▲" Width="28" Height="28" Margin="0,2" Click="OnMoveUp" ToolTip="Move Up"/>
                    <Button Content="▼" Width="28" Height="28" Margin="0,2" Click="OnMoveDown" ToolTip="Move Down"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Hotkeys -->
        <GroupBox Grid.Row="2" Header="Hotkeys" Margin="0,10,0,0" Padding="6">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="Next Device:" VerticalAlignment="Center" Margin="0,0,0,6"/>
                <TextBox x:Name="NextHotkeyBox" Grid.Row="0" Grid.Column="1" IsReadOnly="True" Margin="0,0,4,6"
                         PreviewKeyDown="OnHotkeyKeyDown" GotFocus="OnHotkeyGotFocus" Tag="Next"
                         ToolTip="Click and press desired key combination"/>
                <Button Grid.Row="0" Grid.Column="2" Content="Clear" Padding="6,2" Margin="0,0,0,6" Click="OnClearHotkey" Tag="Next"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="Previous Device:" VerticalAlignment="Center"/>
                <TextBox x:Name="PrevHotkeyBox" Grid.Row="1" Grid.Column="1" IsReadOnly="True" Margin="0,0,4,0"
                         PreviewKeyDown="OnHotkeyKeyDown" GotFocus="OnHotkeyGotFocus" Tag="Prev"
                         ToolTip="Click and press desired key combination"/>
                <Button Grid.Row="1" Grid.Column="2" Content="Clear" Padding="6,2" Click="OnClearHotkey" Tag="Prev"/>
            </Grid>
        </GroupBox>

        <!-- Options -->
        <CheckBox x:Name="StartupCheckBox" Grid.Row="3" Content="Start HearHere with Windows" Margin="0,10,0,0"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Content="Save" Width="80" Padding="0,5" Click="OnSave" IsDefault="True"/>
            <Button Content="Cancel" Width="80" Padding="0,5" Margin="8,0,0,0" Click="OnCancel" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
